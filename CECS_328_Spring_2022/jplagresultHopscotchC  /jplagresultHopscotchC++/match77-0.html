<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>661819570</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>StudentSolver.cpp</CENTER></H3><HR>
<PRE>
#include &quot;StudentSolver.h&quot;




vector &lt;vector &lt;int&gt;&gt; StudentSolver::shorten(vector &lt;vector&lt;int&gt;&gt; grid) {
	vector &lt;int&gt; amount;
	vector &lt;int&gt; deg;
	vector &lt; vector &lt; int &gt;&gt; n;
	int total = 0;
	double degree;
	for (int i = 0; i &lt; grid.size(); i++) { 
		for (int e = 0; e &lt; grid[i].size(); e++) {
			cout &lt;&lt; grid[i][e] &lt;&lt; &quot; &quot;;
			total = total + grid[i][e];

		}
		double half = ceil(grid.size() / 2); 
		degree = ceil(total / grid[i].size());

		if (i &lt; half &amp;&amp; i &gt;= 0) {
			degree = degree - i;
		}
		else if (i &lt; grid.size() &amp;&amp; i &gt;= half) {
			degree = degree - (grid.size() - i);
		}
		cout &lt;&lt; endl;
		deg.push_back(degree);
		amount.push_back(total);
		total = 0;
	}
	vector &lt;int&gt; sol = { 1,0,1,1,0,-1,-1 };
	double deter = 0;
	for (int i = 0; i &lt; deg.size(); i++) {
		deter = deter + deg[i];
		cout &lt;&lt; &quot;degree: &quot; &lt;&lt; deg[i] &lt;&lt; &quot; amount: &quot; &lt;&lt; amount[i] &lt;&lt; endl;
	}
	deter = floor(deter / deg.size());
	cout &lt;&lt; deter &lt;&lt; endl;

<A NAME="0"></A>	for (int i = 0; i &lt; grid.size(); i++) {
		if (deg[i] &gt;= deter) {
			n.push_back(grid[i]);
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match77-1.html#0',3,'match77-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>		}
	}
	cout &lt;&lt; &quot;size: &quot; &lt;&lt; n.size() &lt;&lt; endl;
 	for (int i = 0; i &lt; n.size(); i++) {
		for (int e = 0; e &lt; n[i].size(); e++) {
			cout &lt;&lt; n[i][e] &lt;&lt; &quot; &quot;;

		}
		cout &lt;&lt; endl;
	}</B></FONT>

	return n;
}



vector &lt;vector &lt;int&gt;&gt; StudentSolver::combinations(vector &lt;int&gt; moves, int n, const int m, const int r, vector &lt;vector&lt;int&gt;&gt; grid) {

	vector &lt;int&gt; movement = { 0,1,-1 };
	static vector &lt;vector &lt; int&gt;&gt; combo;
	vector &lt; vector&lt;int&gt;&gt; temp;
	vector &lt;vector &lt; int&gt;&gt; compar;
	
	int total = 0;
	int minus = grid.size() - 2;
	minus = -minus;
	if ( n !=0) {
		
		for (int i = 0; i &lt; movement.size(); i++) {
			for (int p = 2; p &lt; moves.size(); p++) {
				total = total + moves[2];
			}
			int w = ceil(grid[0].size() / 2);
			/*if (grid[0].size() &lt; grid.size()  &amp;&amp; (total &gt;w|| total &lt; -w)) {
				break;
			}*/
		    if (total &lt; grid.size() - 2 &amp;&amp; movement[i] == -1) {
				break;
			}
			else if (total &lt; minus &amp;&amp; movement[i] == -1 ) {
				break;
			}
			else if ((total == m || total == -m) &amp;&amp; movement[i] == 0) {
				break;
			}

			else {
				moves.push_back(movement[i]);
				temp = combinations(moves, n - 1, m, r, grid);
				moves.pop_back();
			}

		}
	}

	
	
	
	
	
	
	
	

	if (n == 0) {
		combo.push_back(moves);
		
	}

	
	if (n ==0){
		
		for (int i = 0; i &lt; combo.size(); i++) {
			int ad = 0;
			
			for (int p = 2; p &lt; combo[i].size(); p++) {
				ad = ad + combo[i][p];
				
			}
			
			if (ad == 1 || ad == 0 ) {
				
				
				
					compar.push_back(combo[i]);
					
				
				
				
			}
			if (r - 2 &lt;= m  &amp;&amp; (ad == -(m)|| ad== -(m+1))) {
				
					compar.push_back(combo[i]);

				
				
			}
			else if (r - 2 &lt;= m &amp;&amp; (ad == (m) || ad == (m + 1))) {
				
					compar.push_back(combo[i]);

				
			}
		}
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

	for (int o = 0; o &lt; temp.size(); o++) {
		compar.push_back(temp[o]);
		/*for (int w = 0; w &lt; temp[o].size(); w++) {
			if (temp[o][w] &gt; m) {
				cout &lt;&lt; &quot;o:&quot; &lt;&lt; o &lt;&lt; &quot; w:&quot; &lt;&lt;w  &lt;&lt; endl;
				cout &lt;&lt; temp[o][w] &lt;&lt; endl;
			}
		}*/
	}
	
	return compar;

}













vector &lt;int&gt; StudentSolver::solve(vector &lt;vector&lt;int&gt;&gt; grid) {
	
	


	/*for (int i = 0; i&lt;grid.size(); i++) {
		for (int e = 0;e&lt; grid[i].size(); e++) {
			cout &lt;&lt; grid[i][e] &lt;&lt; &quot; &quot;;
		}
		cout &lt;&lt; endl;
	}*/
	StudentSolver t;
	StudentSolver tt;
	vector &lt;int&gt; totals;
	vector &lt;int &gt; movesUp = { 1 };
	vector &lt;int&gt; movesDown = { 0 };
	vector &lt;vector &lt;int&gt;&gt; all; 
	vector &lt; vector&lt;int&gt;&gt; temp;
	int s = grid.size() - 1;
	int n = grid[s].size() -1;

	
		movesUp.push_back(0); 
		
		temp =t.combinations(movesUp, n,n, grid.size(), grid); 
		
		
		
		
		cout &lt;&lt; &quot;done&quot; &lt;&lt; endl;
		for (int i = 0; i &lt; temp.size(); i++) {
			int ad = 0;
			
			for (int p = 2; p &lt; temp[i].size(); p++) {
				ad = ad + temp[i][p];

			}
			
			if (ad == 1 || ad == 0) {
				
				
				for (int w = 0; w &lt; grid[0].size(); w++) {
					temp[i][1] = w;
					all.push_back(temp[i]);
					/*temp[i][0] = 0;
					all.push_back(temp[i]);*/
				}

			}
			if (grid.size() - 2 &lt;= n &amp;&amp; (ad == -(n) || ad == -(n + 1))) {
				for (int w = 0; w &lt; grid[0].size(); w++) {
					temp[i][1] = w;
					all.push_back(temp[i]);

				}
				
			}
			else if (grid.size() - 2 &lt;= n &amp;&amp; (ad == (n) || ad == (n + 1))) {
				for (int w = 0; w &lt; grid[0].size(); w++) {
					temp[i][0] = 0;
					temp[i][1] = w;
					all.push_back(temp[i]);

				}
			}
		}

	
	
	int total = 0;
	for (int i = 0; i &lt; all.size(); i++) {
		int column = 0;
		int row = 0;
		total = 0;
		for (int e = 0; e &lt; all[i].size(); e++) {
			if (all[i][e] == 0 &amp;&amp; e == 0) { 
				row = grid.size() - 1;
			}
			else if (all[i][e] == 1 &amp;&amp; e == 0) 
				row = 0; 
			
			
			if (e == 1) { 
				column = all[i][e];
				
				
				total = total + grid[row][column];
				
			}

			else if (e &gt; 1) { 
				
				if (all[i][e] == 0) 
				{

					if (column &lt; grid[row].size()-1) { 
						column++;
					}
					else column = 0; 
					total = total + grid[row][column];
				}

				else if (all[i][e] == 1) {
					
					if (column &lt; grid[row].size()-1) { 
						column++;
					}
					else column = 0; 
					
					if (row == 0) {
						row = grid.size() - 1;
					}
					else row--;

					total = total + grid[row][column];
				}

				else if (all[i][e] == -1) {
					
					if (column &lt; grid[row].size() -1) { 
						column++;
					}
					else column = 0; 

					if (row == grid.size()-1) {
						row = 0;
					}
					else row++;

					total = total + grid[row][column];
				}

			}

		}
		
		totals.push_back(total);
	}

	
	
	int select = 0;
	int greater = 0;
	for (int i = 0; i &lt; totals.size() ; i++) {
		
		
		if (greater &lt; totals[i]) {
			cout &lt;&lt; totals[i] &lt;&lt; endl;
			
			greater = totals[i];
			select = i;
		}
		
		
		
		
		
		
		
	}
	cout &lt;&lt; &quot;greater: &quot; &lt;&lt; greater &lt;&lt; endl;
	return all[select];

}
</PRE>
</BODY>
</HTML>
