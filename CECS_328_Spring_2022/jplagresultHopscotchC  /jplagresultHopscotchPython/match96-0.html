<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>972533087</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>studentsolver.py</CENTER></H3><HR>
<PRE>
import collections

n = 0
m = 0
answer = []
rgrid = []
row = 0
column = 0
count = 0
sumcheck = 0
final = []
bottomgrid = []


def rotategrid(grid, i):
    global n, m
    for x in grid:
        slicex = x
        temp = collections.deque(slicex)
        if i == 1:
            temp.rotate(-1)
        else:
            temp.rotate(-i)
        rgrid.append(list(temp))
        # print(rgrid)


def gridmoves(ngrid, xm, xn):
    global row, column, count, m, n
    if xn + 1 == n - 1:
        if xm == 0:
            right = ngrid[xm][xn + 1]
            # print(right)
            right_up = ngrid[xm + (m - 1)][xn + 1]
            xmax = max(right, right_up)
            if xmax == right:
                row = xm
                column = xn + 1
                answer.append(0)
                count = right + count
            elif xmax == right_up:
                row = xm + (m - 1)
                column = xn + 1
                answer.append(1)
                count = right_up + count
            # print(xmax)
            # print(answer)
        elif xm == 1:
            right_up = ngrid[xm - 1][xn + 1]
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xm == m - 1:
            right = ngrid[xm][xn + 1]
            right_down = ngrid[xm - (m - 1)][xn + 1]
            xmax = max(right, right_down)
            if xmax == right:
                row = xm
                column = xn + 1
                answer.append(0)
                count = right + count
            elif xmax == right_down:
                row = xm - (m - 1)
                column = xn + 1
                answer.append(-1)
                count = right_down + count
            # print(xmax)
            # print(answer)
        elif xm == m - 2:
            right_down = ngrid[xm + 1][xn + 1]
            row = xm + 1
            column = xn + 1
            answer.append(-1)
            count = right_down + count

    elif xm == 0:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm + (m - 1)][xn + 1]
        right_down = ngrid[xm + 1][xn + 1]

        xmax = max(right, right_up, right_down)

<A NAME="0"></A>        if xmax == right:
            row = xm
            column = xn + 1
            answer<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match96-1.html#0',3,'match96-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm + (m - 1)
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm + 1
            column = xn + 1
            answer.append(-1)
            count =</B></FONT> right_down + count
        # print(xmax)
        # print(answer)
    elif xm == m - 1:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm - 1][xn + 1]
        right_down = ngrid[xm - (m - 1)][xn + 1]

        xmax = max(right, right_up, right_down)

<A NAME="1"></A>        if xmax == right:
            row = xm
            column = xn + 1
            answer<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match96-1.html#1',3,'match96-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm - (m - 1)
            # print('row', row)
            column = xn + 1
            answer.append(-1)
            count =</B></FONT> right_down + count
        # print(xmax)
        # print(answer)
    else:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm - 1][xn + 1]
        right_down = ngrid[xm + 1][xn + 1]
        xmax = max(right, right_up, right_down)
        if xmax == right:
            row = xm
            column = xn + 1
            answer.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm + 1
            column = xn + 1
            answer.append(-1)
            count = right_down + count
        # print(xmax)
        # print(answer)


def gridmoves2(ngrid, xm, xn):
    global row, column, count, m, n
    if xn + 1 == n - 1:
        if xm == 0:
            right = ngrid[xm][xn + 1]
            # print(right)
            right_down = ngrid[xm + 1][xn + 1]
            xmax = max(right, right_down)
            if xmax == right:
                row = xm
                column = xn + 1
                answer.append(0)
                count = right + count
            elif xmax == right_down:
                row = xm + 1
                column = xn + 1
                answer.append(-1)
                count = right_down + count
            # print(xmax)
            # print(answer)

        elif xm == 1:
            right = ngrid[xm][xn + 1]
            right_up = ngrid[xm - 1][xn + 1]
            xmax = max(right, right_up)
            if xmax == right:
                row = xm
                column = xn + 1
                answer.append(0)
                count = right + count
            elif xmax == right_up:
                row = xm - 1
                column = xn + 1
                answer.append(1)
                count = right_up + count
        elif xm == m - 1:
            right_down = ngrid[xm - (m - 1)][xn + 1]
            row = xm - (m - 1)
            column = xn + 1
            answer.append(-1)
            count = right_down + count
            # print(xmax)
            # print(answer)
        elif xm == m - 2:
            right_up = ngrid[xm - 1][xn + 1]
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count

    elif xm == 0:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm + (m - 1)][xn + 1]
        right_down = ngrid[xm + 1][xn + 1]

        xmax = max(right, right_up, right_down)

        if xmax == right:
            row = xm
            column = xn + 1
            answer.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm + (m - 1)
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm + 1
            column = xn + 1
            answer.append(-1)
            count = right_down + count
        # print(xmax)
        # print(answer)
    elif xm == m - 1:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm - 1][xn + 1]
        right_down = ngrid[xm - (m - 1)][xn + 1]

        xmax = max(right, right_up, right_down)

        if xmax == right:
            row = xm
            column = xn + 1
            answer.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm - (m - 1)
            # print('row', row)
            column = xn + 1
            answer.append(-1)
            count = right_down + count
        # print(xmax)
        # print(answer)
    else:
        right = ngrid[xm][xn + 1]
        right_up = ngrid[xm - 1][xn + 1]
        right_down = ngrid[xm + 1][xn + 1]
        xmax = max(right, right_up, right_down)
        if xmax == right:
            row = xm
            column = xn + 1
            answer.append(0)
            count = right + count
        elif xmax == right_up:
            row = xm - 1
            column = xn + 1
            answer.append(1)
            count = right_up + count
        elif xmax == right_down:
            row = xm + 1
            column = xn + 1
            answer.append(-1)
            count = right_down + count
        # print(xmax)
        # print(answer)


def check():
    if count &gt; sumcheck:
        if len(answer) == 2 + (n - 1):
            if (row == 0 and column == (n-1)) or (row == (m-1) and column == (n-1)):
                return True
    else:
        return False


def check2():
    if count &gt; sumcheck:
        if len(answer) == 2 + (n - 1):
            if (row == 0 and column == (n-1)) or (row == 1 and column == (n-1)):
                return True
    else:
        return False


def solve(grid):
    global n, m, row, column, final, count, sumcheck, bottomgrid
    n = len(grid[0])
    # print(n)
    m = len(grid)
    # print('n = ', n, 'm = ', m)
    for i in range(n):
        if i == 0:
            count = grid[0][0]
            answer.append(1)
            answer.append(0)
            x = 0
            y = n - 1
            while y &gt; x:
                gridmoves(grid, row, column)
                y = y - 1
            if check():
                sumcheck = count
                final = list(answer)
                # print('count', count, 'sumcheck', sumcheck)
                # print(final)
                # print(sumcheck)
            # print(i)
        else:
            rgrid.clear()
            answer.clear()
            answer.append(1)
            answer.append(i)
            x = 0
            y = n - 1
            rotategrid(grid, i)
            row = 0
            column = 0
            count = 0
            count = grid[0][i]
            # print(rgrid)
            while y &gt; x:
                gridmoves(rgrid, row, column)
                y = y - 1
            if check():
                sumcheck = count
                # print('i', answer)
                final = list(answer)
                # print(final)
                # print(sumcheck)
                # print('count', count, 'sumcheck', sumcheck)
            # print(i)
    # print(final)
    # print(sumcheck)
    # print(rgrid)
    rgrid.clear()
    rotategrid(grid, n)
    # print(rgrid)
    x = rgrid.pop()
    rgrid.insert(0, x)
    # print(rgrid)
    bottomgrid = list(rgrid)
    # print(bottomgrid)
    rgrid.clear()
    row = 0
    column = 0
    answer.clear()
    for j in range(n):
        if j == 0:
            count = bottomgrid[0][0]
            answer.append(0)
            answer.append(0)
            x = 0
            y = n - 1
            while y &gt; x:
                gridmoves2(bottomgrid, row, column)
                y = y - 1
                # print(count)
                #  print(answer)
            if check2():
                sumcheck = count
                # print('sumcheck')
                final = list(answer)
                # print('count', count, 'sumcheck', sumcheck)
            # print(i)
            # print(final)
            # print(sumcheck)
        else:
            rgrid.clear()
            answer.clear()
            answer.append(0)
            answer.append(j)
            x = 0
            y = n - 1
            rotategrid(bottomgrid, j)
            row = 0
            column = 0
            count = 0
            count = bottomgrid[0][j]
            # print(rgrid)
            while y &gt; x:
                gridmoves2(rgrid, row, column)
                y = y - 1
            # print(answer)
            # print(count)
            if check2():
                print(row, column, answer)
                sumcheck = count
                # print('i', answer)
                final = list(answer)
                # print('count', count, 'sumcheck', sumcheck)
                # print(final)
                # print(sumcheck)
            # print(i)
    # print(row, column)
    # print(final)
    # print(sumcheck)
    return final
</PRE>

</BODY>
</HTML>
