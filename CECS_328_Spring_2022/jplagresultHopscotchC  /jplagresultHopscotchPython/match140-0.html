<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>537398255</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>studentsolver.py</CENTER></H3><HR>
<PRE>

def solve(grid):
    rows = len(grid)
    cols = len(grid[0])

    def f(row, col, total, colsleft, path):
        total += grid[row][col]

        if colsleft == 1:
            if row == 0 or row == rows-1: return (total, path)
            else: return (-1, None)

        next_col  = (col + 1) % cols
        row_up = (row - 1) % rows
        row_down = (row + 1) % rows

        a = f(row, next_col, total, colsleft-1, path + [0])
        b = f(row_up, next_col, total, colsleft-1, path + [1])
        next_col = f(row_down, next_col, total, colsleft-1, path + [-1])

        if (a[0] &gt; b[0]):
            if (a[0] &gt; next_col[0]): return a
            else: return next_col
        else:
            if (b[0] &gt; next_col[0]): return b
            else: return next_col

    vals = []
    for col in range(cols):
<A NAME="0"></A>        vals.append(f(rows-1, col, 0, cols, [0, col]))
        vals.append(f(0, col, 0, cols, [1, col]))

    return max(vals, key=lambda x: x[0])[<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match140-1.html#0',3,'match140-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>1]

if __name__ == '__main__':
    grid = [
        [3, 4, 1, 2, 8, 6],
        [6, 1, 8, 2, 7, 4],
        [5, 4, 3, 9, 9, 5],
        [5, 9, 8, 3, 2, 6],
        [8, 7, 2, 9, 6, 4],
    ]

    path = solve(grid)
    print(</B></FONT>path)
</PRE>

</BODY>
</HTML>
