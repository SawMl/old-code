<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>808812672</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>StudentSolver.java</CENTER></H3><HR>
<PRE>
import java.util.*;

public class StudentSolver {
    public static int currentRow;

    public static ArrayList&lt;Integer&gt; solve(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid) {
        ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();
        int height = grid.size() - 1;
        int width = grid.get(0).size() - 1;

        int score1 = 0;
        int score2 = 0;
        int maxScore = 0;
        int[] got = new int[2];
        int[] r = new int[width + 2];

        int[] top = new int[width + 2];
        top[0] = 1;
        int[] bottom = new int[width + 2];
        bottom[0] = 0;
        int num = 0;

        for(int a = 0; a &lt;= width; a++) {
            top[1] = a;
            bottom[1] = a;
            num = 2;
            int movesLeft = width;
            currentRow = 0;
            score1 = grid.get(0).get(a);
            score2 = grid.get(height).get(a);
            for(int q = 2; q &lt; top.length; q++){
                top[q] = 0;
                bottom[q] = 0;
            }
            int col = a;
            for (int j = 0; j &lt; width; j++) {
                got = findNext(grid, col%(width+1), movesLeft);
                top[num] = got[0];
                movesLeft--;
                if (top[num] == 1) {
                    score1 += got[1];
                } else if (top[num] == 0) {
                    score1 += got[1];
                } else {
                    score1 += got[1];
                }
                num++;
                col++;
            }

            col = a;
            num = 2;
            movesLeft = width;
            currentRow = height;
            for (int m = 0; m &lt; width; m++) {
                got = findNext(grid, col%(width+1), movesLeft);
                bottom[num] = got[0];
                movesLeft--;
                if (top[num] == 1) {
                    score2 += got[1];
                } else if (top[num] == 0) {
                    score2 += got[1];
                } else {
                    score2 += got[1];
                }
                num++;
                col++;
            }

            if(score1 &gt; maxScore){
                maxScore = score1;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = top[q];
                }
            }
            if (score2 &gt; maxScore){
                maxScore = score2;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = bottom[q];
                }
            }
        }

        for(int a = 0; a &lt;= width; a++) {
            top[1] = a;
            bottom[1] = a;
            num = 2;
            int movesLeft = width;
            currentRow = 0;
            score1 = grid.get(0).get(a);
            score2 = grid.get(height).get(a);
            for(int q = 2; q &lt; top.length; q++){
                top[q] = 0;
                bottom[q] = 0;
            }
            int col = a;

            got = findNext(grid, col%(width+1), movesLeft);
            top[num] = got[0];
            movesLeft--;
            if (top[num] == 1) {
                score1 += got[1];
            } else if (top[num] == 0) {
                score1 += got[1];
            } else {
                score1 += got[1];
            }
            num++;
            col++;

            got = findNext2(grid, col%(width+1), movesLeft);
            top[num] = got[0];
            movesLeft--;
            if (top[num] == 1) {
                score1 += got[1];
            } else if (top[num] == 0) {
                score1 += got[1];
            } else {
                score1 += got[1];
            }
            num++;
            col++;

            for (int j = 2; j &lt; width; j++) {
                got = findNext(grid, col%(width+1), movesLeft);
                top[num] = got[0];
                movesLeft--;
                if (top[num] == 1) {
                    score1 += got[1];
                } else if (top[num] == 0) {
                    score1 += got[1];
                } else {
                    score1 += got[1];
                }
                num++;
                col++;
            }

            col = a;
            num = 2;
            movesLeft = width;
            currentRow = height;

            got = findNext(grid, col%(width+1), movesLeft);
            bottom[num] = got[0];
            movesLeft--;
            if (bottom[num] == 1) {
                score2 += got[1];
            } else if (bottom[num] == 0) {
                score2 += got[1];
            } else {
                score2 += got[1];
            }
            num++;
            col++;

            got = findNext2(grid, col%(width+1), movesLeft);
            bottom[num] = got[0];
            movesLeft--;
            if (bottom[num] == 1) {
                score2 += got[1];
            } else if (bottom[num] == 0) {
                score2 += got[1];
            } else {
                score2 += got[1];
            }
            num++;
            col++;

            for (int m = 2; m &lt; width; m++) {
                got = findNext(grid, col%(width+1), movesLeft);
                bottom[num] = got[0];
                movesLeft--;
                if (bottom[num] == 1) {
                    score2 += got[1];
                } else if (bottom[num] == 0) {
                    score2 += got[1];
                } else {
                    score2 += got[1];
                }
                num++;
                col++;
            }

            if(score1 &gt; maxScore){
                maxScore = score1;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = top[q];
                }
            }
            if (score2 &gt; maxScore){
                maxScore = score2;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = bottom[q];
                }
            }
        }

        for(int a = 0; a &lt;= width; a++) {
            top[1] = a;
            bottom[1] = a;
            num = 2;
            int movesLeft = width;
            currentRow = 0;
            score1 = grid.get(0).get(a);
            score2 = grid.get(height).get(a);
            for(int q = 2; q &lt; top.length; q++){
                top[q] = 0;
                bottom[q] = 0;
            }
            int col = a;

            for (int j = 0; j &lt; 2; j++) {
                got = findNext(grid, col%(width+1), movesLeft);
                top[num] = got[0];
                movesLeft--;
                if (top[num] == 1) {
                    score1 += got[1];
                } else if (top[num] == 0) {
                    score1 += got[1];
                } else {
                    score1 += got[1];
                }
                num++;
                col++;
            }

            got = findNext2(grid, col%(width+1), movesLeft);
            top[num] = got[0];
            movesLeft--;
            if (top[num] == 1) {
                score1 += got[1];
            } else if (top[num] == 0) {
                score1 += got[1];
            } else {
                score1 += got[1];
            }
            num++;
            col++;

            for (int j = 3; j &lt; width; j++) {
                got = findNext(grid, col%(width+1), movesLeft);
                top[num] = got[0];
                movesLeft--;
                if (top[num] == 1) {
                    score1 += got[1];
                } else if (top[num] == 0) {
                    score1 += got[1];
                } else {
                    score1 += got[1];
                }
                num++;
                col++;
            }

            col = a;
            num = 2;
            movesLeft = width;
            currentRow = height;

            for (int m = 0; m &lt; 2; m++) {
                got = findNext(grid, col%(width+1), movesLeft);
                bottom[num] = got[0];
                movesLeft--;
                if (bottom[num] == 1) {
                    score2 += got[1];
                } else if (bottom[num] == 0) {
                    score2 += got[1];
                } else {
                    score2 += got[1];
                }
                num++;
                col++;
            }

            got = findNext2(grid, col%(width+1), movesLeft);
            bottom[num] = got[0];
            movesLeft--;
            if (bottom[num] == 1) {
                score2 += got[1];
            } else if (bottom[num] == 0) {
                score2 += got[1];
            } else {
                score2 += got[1];
            }
            num++;
            col++;

            for (int m = 3; m &lt; width; m++) {
                got = findNext(grid, col%(width+1), movesLeft);
                bottom[num] = got[0];
                movesLeft--;
                if (bottom[num] == 1) {
                    score2 += got[1];
                } else if (bottom[num] == 0) {
                    score2 += got[1];
                } else {
                    score2 += got[1];
                }
                num++;
                col++;
            }

            if(score1 &gt; maxScore){
                maxScore = score1;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = top[q];
                }
            }
            if (score2 &gt; maxScore){
                maxScore = score2;
                for(int q = 0; q &lt; top.length; q++){
                    r[q] = bottom[q];
                }
            }
        }

        for(int o = 0; o &lt; r.length; o++){
            result.add(r[o]);
        }

<A NAME="0"></A>        return result;
    }

    public static int checkUp(<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match695-1.html#0',3,'match695-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid, int column, int left) {
        int nextC = (column + 1) % (grid.get(0).size()); 
<A NAME="1"></A>        int up = (currentRow - 1) % (grid.size</B></FONT>()); 

        if (up &lt; 0) {
            up = up + <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match695-1.html#1',3,'match695-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>grid.size();
        }

        if(left &gt;= currentRow || left &gt;= ((grid.size() - currentRow + 1)%grid.size())){
            return grid.get(up).get(nextC);
        }
        else{</B></FONT>
            return 0;
<A NAME="2"></A>        }
    }
    public static int checkNext(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid, int column, int left) {
        <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match695-1.html#2',3,'match695-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>int nextC = (column + 1) % (grid.get(0).size()); 

        if(left &gt; currentRow || left &gt;= ((grid.size() - currentRow)%grid.size())){
            return grid.get(currentRow).get(nextC);
        }
        else{</B></FONT>
            return 0;
        }
    }

    public static int checkDown(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid, int column, int left) {
<A NAME="3"></A>        int nextC = (column + 1) % (grid.get(0).size()); 
        int down = (currentRow+1)%(grid.size()); 

        <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match695-1.html#3',3,'match695-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>if(left &gt;= (grid.size() - currentRow - 1) || left &gt; ((currentRow + 2)%grid.size())){
            return grid.get(down).get(nextC);
        }
        else{</B></FONT>
            return 0;
        }
    }

    public static int[] findNext(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid, int column, int left){
        int[] compare = new int[3]; 
        compare[0] = checkUp(grid, column, left);
        compare[1] = checkNext(grid, column, left);
        compare[2] = checkDown(grid, column, left);

        int max = compare[0];
        int[] choice = new int [2];

        for(int i = 1; i &lt; 3; i++){
            if(compare[i] &gt; max){
                max = compare[i];
            }
        }

        if(compare[0] == max){
            choice[0] = 1;
            choice[1] = compare[0];
            currentRow = (currentRow - 1) % (grid.size());
            if (currentRow &lt; 0) {
                currentRow = currentRow + grid.size();
            }
        }
        else if(compare[1] == max){
            choice[0] = 0;
            choice[1] = compare[1];
        }
        else if(compare[2] == max){
            choice[0] = -1;
            choice[1] = compare[2];
            currentRow = (currentRow+1)%grid.size();
        }

        return choice;
    }

    public static int[] findNext2(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid, int column, int left){
        int[] compare = new int[3]; 
        compare[0] = checkUp(grid, column, left);
        compare[1] = checkNext(grid, column, left);
        compare[2] = checkDown(grid, column, left);

        int max = compare[0];
        int[] choice = new int [2];

        for(int i = 1; i &lt; 3; i++){
            if(compare[i] &gt; max){
                max = compare[i];
            }
        }

        if(compare[0] == max){
            if(compare[1] &gt; compare[2]){
                choice[0] = 0;
                choice[1] = compare[1];
            }
            else if(compare[1] &lt; compare[2]){
                choice[0] = -1;
                choice[1] = compare[2];
                currentRow = (currentRow+1)%grid.size();
            }
            else{
                choice[0] = 1;
                choice[1] = compare[0];
                currentRow = (currentRow - 1) % (grid.size());
                if (currentRow &lt; 0) {
                    currentRow = currentRow + grid.size();
                }
            }
        }
        else if(compare[1] == max){
            if(compare[0] &gt; compare[2]){
                choice[0] = 1;
                choice[1] = compare[0];
                currentRow = (currentRow - 1) % (grid.size());
                if (currentRow &lt; 0) {
                    currentRow = currentRow + grid.size();
                }
            }
            else if (compare[0] &lt; compare[2]){
                choice[0] = -1;
                choice[1] = compare[2];
                currentRow = (currentRow+1)%grid.size();
            }
            else{
                choice[0] = 0;
                choice[1] = compare[1];
            }
        }
        else if(compare[2] == max){
            if(compare[0] &gt; compare[1]){
                choice[0] = 1;
                choice[1] = compare[0];
                currentRow = (currentRow - 1) % (grid.size());
                if (currentRow &lt; 0) {
                    currentRow = currentRow + grid.size();
                }
            }
            else if(compare[0] &lt; compare[1]){
                choice[0] = 0;
                choice[1] = compare[1];
            }
            else{
                choice[0] = -1;
                choice[1] = compare[2];
                currentRow = (currentRow + 1) % grid.size();
            }
        }
        return choice;
    }
}
</PRE>

</BODY>
</HTML>
