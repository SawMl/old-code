<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>332767772</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>StudentSolver.java</CENTER></H3><HR>
<PRE>

import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

public class StudentSolver {

	 
	public static ArrayList&lt;Boolean&gt; solve(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs) {
		ArrayList&lt;Boolean[]&gt; comb=new ArrayList&lt;&gt;();
		
		
		int max=maxNumber(bulbs);
		ArrayList&lt;Boolean&gt; values = new ArrayList&lt;Boolean&gt;();
		
		ArrayList&lt;switchs&gt; switches=createBulbs(max);
		Boolean newCombination[]=new Boolean[switches.size()];
		Boolean check;
		
		
		
<A NAME="5"></A>		
		
		for (int i = 0; i &lt; bulbs.size(); i++) {
			if(bulbs.get(i).get(0)==bulbs.get(i).get(1) &amp;&amp; bulbs.get(i).get(1)==<FONT color="#c8c2a7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#5',2,'match432-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>bulbs.get(i).get(2)) {
				if(verifySolution(bulbs,bulbs.get(i).get(0))) {</B></FONT>
					
					
					switches.get(Math.abs(bulbs.get(i).get(0))-1).setValue(2);
					if(bulbs.get(i).get(0)&gt;0) {
						switches.get(Math.abs(bulbs.get(i).get(0))-1).setState(true);
					}	
				}else {
					return null;
				}	
			}
		}
			

		
		boolean ext;
		boolean lOn;
		int cont;
		int bulbCheck;
		comb.clear();
		do {
			ext=true;
			
			for (int j = 0; j &lt; bulbs.size(); j++) {
				lOn=false;
				for (int k = 0; k &lt; bulbs.get(j).size(); k++) {
					if((bulbs.get(j).get(k)&gt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(j).get(k))-1).getState()==true) || 
							(bulbs.get(j).get(k)&lt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(j).get(k))-1).getState()==false)) {
						
						lOn=true;
						break;
					}
				}
				
				if(lOn==false) {
					cont=0;
<A NAME="3"></A>					bulbCheck=0;
					
					for (int k = 0; k &lt; bulbs.get(j).size(); k++) {
						if(switches.get(Math.abs(bulbs.get(j).get(k))<FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#3',2,'match432-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>-1).getValue()==2) {
							if((bulbs.get(j).get(k)&gt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(j).get(k))-1).getState()==fal</B></FONT>se) || 
									(bulbs.get(j).get(k)&lt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(j).get(k))-1).getState()==true)) {
								
								cont++;
							}
						}else{
							bulbCheck=k;
						}
					}
					
					
					
					
					if(cont==2) {
						ext=false;
						switches.get(Math.abs(bulbs.get(j).get(bulbCheck))-1).setValue(2);
						switches.get(Math.abs(bulbs.get(j).get(bulbCheck))-1).changeState();
					}	
				}
			}
			
			if(ext==false) {
				
				
				
				for(int i=0; i&lt;switches.size();i++) {
					newCombination[i]=switches.get(i).getState();
				}
				
				check=verifySolution(comb,newCombination);
				if(check) {
					comb.add(newCombination);
				}else {
					return null;
				}
			}
		}while(ext==false);

		
		comb.clear();
		do {
			ext=true;
			for (int i= 0; i &lt; bulbs.size(); i++) {
				lOn=false;
				for (int j = 0; j &lt; bulbs.get(i).size(); j++) {
					if((bulbs.get(i).get(j)&gt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(i).get(j))-1).getState()==true) || 
							(bulbs.get(i).get(j)&lt;0 &amp;&amp; switches.get(Math.abs(bulbs.get(i).get(j))-1).getState()==false)) {
						
						lOn=true;
						break;
					}
				}
				
				if(lOn==false) {
<A NAME="1"></A>					
					int menor=maxNumber(bulbs);
					for (int j = 0; j &lt; bulbs.get(i).size()-1; j++) {
						if(bulbs.get(i).get(j)&lt;=menor &amp;&amp; switches.get(Math.abs(bulbs.get(i).get(j))-1).getValue()!=2){<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#1',2,'match432-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
							menor=bulbs.get(i).get(j);
						}
					}</B></FONT>
					switches.get(Math.abs(menor)-1).changeState();
					ext=false;
				}
			}	
			
			if(ext==false) {
				
				for(int i=0; i&lt;switches.size();i++) {
					newCombination[i]=switches.get(i).getState();
				}
				
				check=verifySolution(comb,newCombination);
				if(check) {
					comb.add(newCombination);
				}else {
					return null;
				}
			}

<A NAME="9"></A>		}while(ext==false);
		
		
		for(int i=0; i<FONT color="#f88017"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#9',2,'match432-top.html#9',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>&lt;switches.size(); i++) {
			values.add(switches.get(i).getState());
		}</B></FONT>
		
<A NAME="6"></A>		return values;
	}
	
<A NAME="8"></A>	public static boolean verifySolution(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs, int num) {<FONT color="#50ebec"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#6',2,'match432-top.html#6',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		for(int i=0; i&lt;bulbs.size(); i++) {
			if(bulbs.get(i).get(0)==-1*num &amp;&amp; bulbs.get(i).get(1)==-1*num &amp;&amp; bulbs.get(i).get(2)==-1*num) {</B></FONT>
				return false;<FONT color="#bce954"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#8',2,'match432-top.html#8',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
			}
		}
		return true;
	}
	
	private static boolea</B></FONT>n verifySolution(ArrayList&lt;Boolean[]&gt; combinations,Boolean blbs[]) {
		int cont=0;
		for (int i = 0; i &lt; combinations.size(); i++) {
			cont=0;
			for (int j = 0; j &lt; combinations.get(i).length; j++) {
				if(blbs[j]==combinations.get(i)[j]) {
					cont++;
<A NAME="7"></A>				}
			}

			if(cont==blbs.length)<FONT color="#c58917"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#7',2,'match432-top.html#7',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B> {
				return false;
			}
		}
		return true;
<A NAME="2"></A>	}
	
	private static i</B></FONT>nt maxNumber(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs) {
		int max=0;<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#2',2,'match432-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		for (int i = 0; i &lt; bulbs.size(); i++) {
			for (int j = 0; j &lt; bulbs.get(i).size(); j++) {</B></FONT>
				if(Math.abs(bulbs.get(i).get(j))&gt;=max) {
<A NAME="0"></A>					max=Math.abs(bulbs.get(i).get(j));
				}
			}
		}<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#0',2,'match432-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		return max;
	}
	
	private static ArrayList&lt;switchs&gt; createBulbs(int qty){
		ArrayList&lt;switchs&gt; blbs= new ArrayList&lt;&gt;()</B></FONT>;
		for(int i=0; i&lt;qty; i++) {
			blbs.add(new switchs());
		}
		return blbs;
	}
<A NAME="10"></A>}

class switchs{
	private<FONT color="#b041ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#10',2,'match432-top.html#10',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B> int qty;
	private Boolean state;
	
	
	public switchs() {
		this.qty=1;
<A NAME="4"></A>		this.state=false;
	}
	
	public void change</B></FONT>State() {<FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#4',2,'match432-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		if(this.state) {
			this.state=false;
		}else {
			this.state=true;
		}
	}</B></FONT>
<A NAME="11"></A>	
	public void setValue(int value) {
		this.qty=value;
	}<FONT color="#571b7e"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match432-0.html#11',2,'match432-top.html#11',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
	
	public int getValue() {
		return qty;
	}
	
	public void setState(Boolean st) {
		this.state=st;
	}
	
	public Boolean </B></FONT>getState() {
		return state;
	}
}
</PRE>

</BODY>
</HTML>
