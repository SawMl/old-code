<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>176311573</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>StudentSolver.java</CENTER></H3><HR>
<PRE>
import java.util.ArrayList;

public class StudentSolver
  {
  public static ArrayList&lt;Boolean&gt; solve(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs)
    {
      ArrayList&lt;Answer&gt; ans = new ArrayList&lt;&gt;();
      ArrayList&lt;ArrayList&lt;Integer&gt;&gt; aside = new ArrayList&lt;&gt;();

      
      
      
      int maxNum = getMax(bulbs);

      while(bulbs.size() &gt; 0)
        {
          ArrayList&lt;Integer&gt; middle = bulbs.get((bulbs.size()/2 )- 1);
          ArrayList&lt;ArrayList&lt;Integer&gt;&gt; focused = getFocused(middle, bulbs);

          Answer[] arr = new Answer[8];
          arr[0] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), true);

          arr[1] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), true);

          arr[2] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), true);

          arr[3] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), false);

          arr[4] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), true);

          arr[5] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), false);

          arr[6] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), false);
          arr[7] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), false);

          
          int count = 0;
          for(Answer a: arr)
            {
              if (allOn(focused, a))
              {
                ans.add(a);
                break;
              }
              else
              {
              }
              count++;
            }
          if (count == 8)
          {
            
            
            for(ArrayList&lt;Integer&gt; ass: focused)
              {
                aside.add(ass);
              }
          }
          ArrayList&lt;ArrayList&lt;Integer&gt;&gt; newBulbs = new ArrayList&lt;&gt;();
          for(ArrayList&lt;Integer&gt; list : bulbs)
            {
              if (!focused.contains(list))
              {
                newBulbs.add(list);
              }
            }

          bulbs = newBulbs;

        }

      
      ArrayList&lt;ArrayList&lt;Integer&gt;&gt; newAsides = new ArrayList&lt;&gt;();
      for(ArrayList&lt;Integer&gt; arr: aside)
        {
          for(Answer ayy : ans)
            {
              if (!checkOn(arr, ayy))
          {
            newAsides.add(arr);
          }
            }
          
        }

      while(newAsides.size() &gt; 0)
        {
          ArrayList&lt;Integer&gt; middle = newAsides.get((newAsides.size()/2 )- 1);
          ArrayList&lt;ArrayList&lt;Integer&gt;&gt; focused = getFocused(middle, newAsides);

          Answer[] arr = new Answer[8];
          arr[0] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), true);

          arr[1] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), true);

          arr[2] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), true);

          arr[3] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), false);

          arr[4] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), true);

          arr[5] = new Answer(Math.abs(middle.get(0)), true, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), false);

          arr[6] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), true, Math.abs(middle.get(2)), false);
          arr[7] = new Answer(Math.abs(middle.get(0)), false, Math.abs(middle.get(1)), false, Math.abs(middle.get(2)), false);

          
          int count = 0;
          for(Answer a: arr)
            {
              if (allOn(focused, a))
              {
                ans.add(a);
                break;
              }
        }
          }


      
      ArrayList&lt;Boolean&gt; out = generateAnswer(ans, maxNum);
      


      return out;
    }

    public static ArrayList&lt;Boolean&gt; generateAnswer(ArrayList&lt;Answer&gt; ans, int max)
    {
      ArrayList&lt;Boolean&gt; out = new ArrayList&lt;&gt;();
      for(int i = 0; i &lt;= max; i++)
        {
          out.add(false);
        }

      for(Answer a: ans)
        {
          for(Pair p : a.answer)
            {
              out.set(Math.abs(p.x), p.y);
            }
          
        }

      out.remove(0);
      return out;
    }

    public static boolean allOn(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; focused, Answer a)
    {
<A NAME="2"></A>      for(ArrayList&lt;Integer&gt; arr : focused)
        {
          if(!checkOn(arr, a))
          <FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match502-0.html#2',2,'match502-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>{
            return false;
          }
        }

      return true;
    }</B></FONT>

    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getFocused(ArrayList&lt;Integer&gt; middle, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs)
    {
      ArrayList&lt;ArrayList&lt;Integer&gt;&gt; focused = new ArrayList&lt;&gt;();
      
      for(ArrayList&lt;Integer&gt; arr : bulbs)
        {
          for(int i : middle)
            {
              if (arr.contains(i) || arr.contains(-i))
              {
                focused.add(arr);
              }
<A NAME="0"></A>            }
        }

      <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match502-0.html#0',2,'match502-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>return focused;
    }

    public static int getMax(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bulbs)
    {
      int max = -100000;

      for(ArrayList&lt;Integer&gt; arr</B></FONT>: bulbs)
        {
          for (int i : arr)
            {
<A NAME="1"></A>              if (Math.abs(i) &gt; max)
              {
                max = i;
              <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match502-0.html#1',2,'match502-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}
            }
        }
      return max;
    }

    public static boolean checkOn( ArrayList&lt;Integer&gt; row, Answer ans)
    {</B></FONT>
      for(Pair p :  ans.answer)
        {
          for(int i : row)
            {
              if ((p.x == i) &amp;&amp; p.y)
              {
                return true;
              }
              else if ((p.x == -i) &amp;&amp; !p.y)
              {
                return true;
              }
            }
          
        }

      return false;
    }

    public static void main(String[] args)
    {

    }

  }
class Answer
  {
    ArrayList&lt;Pair&gt; answer;

    public Answer(int a, boolean A, int b, boolean B, int c, boolean C)
    {
      answer = new ArrayList&lt;&gt;();
      answer.add(new Pair(a, A));
      if (!(a== b || a == -b))
      {
        answer.add(new Pair(b, B));
      }
      if (!(a == c || a == -c) &amp;&amp; !(b == c || b == -c))
      {
        answer.add(new Pair(c, C));
      }
    }

  }

class Pair
  {
    public int x;
    public boolean y;

    public Pair(int num, boolean value)
    {
      x = num;
      y = value;
    }
  }
</PRE>

</BODY>
</HTML>
