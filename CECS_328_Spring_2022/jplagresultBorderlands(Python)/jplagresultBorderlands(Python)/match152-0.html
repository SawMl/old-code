<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>878677506</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>studentsolver.py</CENTER></H3><HR>
<PRE>
bulbSolution=[]#array of booleans length M
bulbSolTemp=[]
bulbCopy= []#bulbs
bulbArray=[]
def solve (bulbs): #assuming bulbs is a list of list of bulb numbers(1-M)
    print(bulbs)   
    M= 0
    for i in bulbs:
        bulbCopy.append(i)
        for j in i:
            bulbArray.append(j)
            
    for i in bulbArray:
        if abs(i)&gt;M:
            M=abs(i)
        #if i not in bulbSolTemp:
            #bulbSolTemp.append(i)
    #M= len(bulbSolTemp)        
    for i in range(M):
        bulbSolTemp.append(i+1)
        bulbSolution.append('-')
    print (M)
    half = bulbSolTemp[M
    if isRed(half):                     #if red, False in solution, True in copy
        switchLight(half, False)
        for i in range(len(bulbCopy)):
            for j in range(3):
                if bulbCopy[i][j] == half:
                    bulbCopy[i][j]=True
    else:                               #if not red, true in solution, true in copy
        switchLight(half, True)
        for i in range(len(bulbCopy)):
            for j in range(3):
                if bulbCopy[i][j] == half:
                    bulbCopy[i][j]=True
    
    #for i in range(3):
     #   findTru()
    findTru()
    if '-' in bulbSolution:
        #print('a')
        findTru()
        for i in range(len(bulbCopy)):        
            if False in bulbCopy[i]:#(bulbCopy[i][0]==False or bulbCopy[i][1]==False or bulbCopy[i][2]==False):
                #print (bulbCopy[i])
                for j in range(3):
                    #print (&quot;c&quot;)
                    if bulbCopy[i][j] != False and bulbCopy[i][j]!=True:
                        sav= bulbCopy[i][j]
                        if isRed(sav):
                            solSet(bulbSolTemp.index(abs(sav)),False)
                        else:
                            solSet(bulbSolTemp.index(abs(sav)),True)
                        findTru()
            elif True not in bulbCopy[i] and False not in bulbCopy[i]:
                for j in range(3):                    
                    if bulbCopy[i][j] != True and bulbCopy[i][j]!=False:
                        sav = bulbCopy[i][j]
                        if isRed(sav):
                            solSet(bulbSolTemp.index(abs(sav)),False)
                        else:
                            solSet(bulbSolTemp.index(abs(sav)),True)
                        
                        #solSet(0,True)
                        findTru()
                     
    for i in bulbSolution:
        if i == '-':
            solSet(bulbSolution.index(i),False)
    #print (M)
    
    #print(bulbArray)
    print (bulbCopy)
    print(bulbSolTemp)
    #print (bulbSolution)
    return bulbSolution
                
def findTru():
    for i in range(len(bulbCopy)):
        for j in range(3):
            if bulbCopy[i][j]==True:
                if j==0:
                    if bulbCopy[i][j+1]&lt;0:
                        searchBulb(bulbCopy[i][j+1])
                        switchLight(bulbCopy[i][j+1],False)
                        bulbCopy[i][j+1]= False
                    else:
                        searchBulb(bulbCopy[i][j+1])
                        switchLight(bulbCopy[i][j+1],True)
                        bulbCopy[i][j+1]=True
                    if bulbCopy[i][j+2]&lt;0:
                        searchBulb(bulbCopy[i][j+2])
                        switchLight(bulbCopy[i][j+2],False)
                        bulbCopy[i][j+2]=False
                    else:
                        searchBulb(bulbCopy[i][j+2])
                        switchLight(bulbCopy[i][j+2],True)
                        bulbCopy[i][j+2]=True
                    #switchLight rest of the row to false, j+1, j+2
                elif j==1:
                    if bulbCopy[i][j-1]&lt;0:
                        searchBulb(bulbCopy[i][j-1])
                        switchLight(bulbCopy[i][j-1],False)
                        bulbCopy[i][j-1]= False
                    else:
                        searchBulb(bulbCopy[i][j-1])
                        switchLight(bulbCopy[i][j-1],True)
                        bulbCopy[i][j-1]=True
                    if bulbCopy[i][j+1]&lt;0:
                        searchBulb(bulbCopy[i][j+1])
                        switchLight(bulbCopy[i][j+1],False)
                        bulbCopy[i][j+1]=False
                    else:
                        searchBulb(bulbCopy[i][j+1])
                        switchLight(bulbCopy[i][j+1],True)
                        bulbCopy[i][j+1]=True
                    #sqitchLight false j-1, j+1
                elif j==2:
                    if bulbCopy[i][j-1]&lt;0:
                        searchBulb(bulbCopy[i][j-1])
                        switchLight(bulbCopy[i][j-1],False)
                        bulbCopy[i][j-1]= False
                    else:
                        searchBulb(bulbCopy[i][j-1])
                        switchLight(bulbCopy[i][j-1],True)
                        bulbCopy[i][j-1]=True
                    if bulbCopy[i][j-2]&lt;0:
                        searchBulb(bulbCopy[i][j-2])
                        switchLight(bulbCopy[i][j-2],False)
                        bulbCopy[i][j-2]=False
                    else:
                        searchBulb(bulbCopy[i][j-2])
                        switchLight(bulbCopy[i][j-2],True)
                        bulbCopy[i][j-2]=True
                    #switchLight false, j-1, j-2
            
    
    changeBulbs() 
    setBulbs()          
    #print(bulbSolution)
    #print()

def switchLight(bulb,cur):
    for i in range(len(bulbSolTemp)):
        if bulb==bulbSolTemp[i]:
            solSet(i,cur)
        
def isRed(bulb): 
    if bulb&lt;0:
        return True
    else:
        return False
def searchBulb(bulb):
    if bulb&lt;0:
       if abs(bulb) in bulbSolTemp:
           solSet(bulbSolTemp.index(abs(bulb)),isRed(bulb)) 
    elif bulb&gt;0:
        if bulb*(-1) in bulbSolTemp:
            #print((bulb*(-1)),bulbSolTemp.index(bulb*(-1)),isRed(bulb))
            solSet(bulbSolTemp.index(bulb*(-1)),isRed(bulb))
def changeBulbs():
    for i in range(len(bulbSolution)):
        #print(bulbSolution[i])
        #print(bulbSolTemp[i],bulbSolution[i])   
        if bulbSolution[i] ==True  or bulbSolution[i] == False:
            #print(bulbSolTemp[i],bulbSolution[i]) 
            #print (i)
            if bulbSolTemp[i]&lt;0 and abs(bulbSolTemp[i]) in bulbArray:
                if bulbSolution[i]==False:
                    searchBulb(bulbSolTemp[i])
                    #print('absFal',bulbSolTemp.index(abs(bulbSolTemp[i])),bulbSolTemp[bulbSolTemp.index(abs(bulbSolTemp[i]))])
                    #solSet(bulbSolTemp.index(abs(bulbSolTemp[i])),True)
                    
                elif bulbSolution[i]==True:
                    #print('absTru',bulbSolTemp.index(abs(bulbSolTemp[i])),bulbSolTemp[bulbSolTemp.index(abs(bulbSolTemp[i]))])
                    searchBulb(bulbSolTemp[i])
                    #solSet(bulbSolTemp.index(abs(bulbSolTemp[i])),False)
                    ##print('i')

            elif bulbSolTemp[i]&gt;0 and bulbSolTemp[i]*(-1) in bulbArray:
                if bulbSolution[i]==False:
                    searchBulb(bulbSolTemp[i])
                elif bulbSolution[i]==True:
                    searchBulb(bulbSolTemp[i])

            
def setBulbs():
    for i in range(len(bulbSolTemp)):
        for j in range(len(bulbCopy)):
            for k in range(3):
                if bulbSolTemp[i]==bulbCopy[j][k] and bulbSolution[i] != '-':
                    bulbCopy[j][k]=bulbSolution[i]
                    #print(bulbSolTemp[i], bulbCopy[j][k], bulbSolution[i])  
        #for j in range bulbcopy:for k in range 3, if bulbsoltemp[i] == bulb[j][k]: set bulbcopy[j][k] to bulbsolution[i]   
            
        
def solSet(bulb, cur):    
    bulbSolution[bulb]=cur
    #print()
            
                
    


<A NAME="0"></A>
#bulbss =[[121, -15, -1],[-4, -17, -5], [43, -5, 4],[200, -9, -11], [-3, -8, -13], [-42, 17, -5], [4, -5, 4], [-9, -9, -7],[-5, 4, -8],[9, 4, 7],[11, 8, 8], [3, 8, 7], [5, -5, -5], [10, -9, -11], [-8, 7, -13], [-4, 17, -5], [4, -5, 4], [9, -9, -7], [-12, -9, -11], [-9, 8, 7]]
#bulbss=[[11, -15, -11],[-5, 4, -8],[8, 4, 5]]
bulbss<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match152-1.html#0',3,'match152-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>=[[-4,-4,-1],[13,-9,-14],[4,-7,-2],[-2,6,3],[-6,-8,11],[-4,-3,-6],[7,11,-10],[4,-7,6],[5,6,4],[10,14,-9]]
print(solve(</B></FONT>bulbss))
#solve(bulbss)
</PRE>

</BODY>
</HTML>
